{% extends "layouts/work.html" %}
{% load static %}
{% block title %}Elastic | Work | Company Lead Details{% endblock %}
{% block content %}
            <div class="page-header">
                <div class="page-header-left d-flex align-items-center">
                    <div class="page-header-title">
                        <h5 class="m-b-10">Welcome {{ user.first_name }}</h5>
                    </div>
                    <ul class="breadcrumb">
                        <li class="breadcrumb-item"><a href="{% url 'AdminDashboard' %}">Dashboard</a></li>
                        <li class="breadcrumb-item"><a href="{% url 'AdminAllCompanies' %}">All Companies</a></li>
                        <li class="breadcrumb-item"><a href="{% url 'AdminEditCompanyDetails' company.unique_code %}">{{ company.name }}</a></li>
                        <li class="breadcrumb-item">Company Lead Details</li>
                    </ul>
                </div>
            </div>

            <div class="main-content mt-2">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card card-body lead-info">
                            <div class="mb-4 d-flex align-items-center justify-content-between">
                                <h5 class="fw-bold mb-0">
                                    <span class="d-block mb-2">Lead Information</span>
                                </h5>
                                <a href="javascript:void(0);" class="edit btn btn-primary"><i class="fa-solid fa-edit"></i></a>
                                <a href="javascript:void(0);" class="cancel btn btn-danger d-none"><i class="fa-solid fa-close"></i></a>
                            </div>
                            <form method="post" action="{% url 'AdminUpdateCompanyLeadDetails' %}">
                                {% csrf_token %}
                                <div class="row mb-2">
                                    <div class="col-lg-3">
                                        <label class="mt-3" for="id">Lead ID</label>
                                    </div>
                                    <div class="col-lg-9">
                                        <input type="hidden" id="lead" name="lead" value="{{ lead.id }}"> 
                                        <input type="text" class="form-control" id="id" name="id" value="{{ lead.unique_code }}" readonly>    
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-lg-3">
                                        <label class="mt-3" for="assign">Assigned to</label>
                                    </div>
                                    <div class="col-lg-9">
                                        <select type="text" class="form-control editable" id="assign" name="assign" disabled>
                                            <option value="" hidden> -- Select User -- </option>
                                            {% for usr in accounts %}
                                            <option value="{{ usr.id }}">{{ usr.first_name }} {{ usr.last_name }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-lg-3">
                                        <label class="mt-3" for="name">Name</label>
                                    </div>
                                    <div class="col-lg-9">
                                        <input type="text" class="form-control editable" id="name" name="name" value="{{ lead.name }}" readonly>    
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-lg-3">
                                        <label class="mt-3" for="email">Email</label>
                                    </div>
                                    <div class="col-lg-9">
                                        <input type="email" class="form-control editable" id="email" name="email" value="{{ lead.email }}" readonly>    
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-lg-3">
                                        <label class="mt-3" for="mobile">Phone</label>
                                    </div>
                                    <div class="col-lg-9">
                                        <input type="text" class="form-control editable" id="mobile" name="mobile" value="{{ lead.mobile }}" readonly>    
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-lg-3">
                                        <label class="mt-3" for="part">Part</label>
                                    </div>
                                    <div class="col-lg-9">
                                        <select type="text" class="form-control editable" id="part" name="part" disabled>
                                            <option value="" hidden> -- Select Part -- </option>
                                            <option value="Engine" {% if lead.part == 'Engine' %} selected {% endif %}>Engine</option>
                                            <option value="Transmission" {% if lead.part == 'Transmission' %} selected {% endif %}>Transmission</option>
                                        </select>  
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-lg-3">
                                        <label class="mt-3" for="make">Make</label>
                                    </div>
                                    <div class="col-lg-9">
                                        <select type="text" class="form-control editable" id="make" name="make" disabled>
                                            <option value="" hidden> -- Select Make -- </option>
                                            <option value="{{ lead.make }}" selected>{{ lead.make }}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-lg-3">
                                        <label class="mt-3" for="model">Model</label>
                                    </div>
                                    <div class="col-lg-9">
                                        <select type="text" class="form-control editable" id="model" name="model" disabled>
                                            <option value="" hidden> -- Select Model -- </option>
                                            <option value="{{ lead.model }}" selected>{{ lead.model }}</option>
                                        </select>    
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-lg-3">
                                        <label class="mt-3" for="year">Year</label>
                                    </div>
                                    <div class="col-lg-9">
                                        <select type="text" class="form-control editable" id="year" name="year" disabled>
                                            <option value="" hidden> -- Select Year -- </option>
                                            <option value="{{ lead.year }}" selected>{{ lead.year }}</option>
                                        </select>    
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-lg-3">
                                        <label class="mt-3" for="size">Size</label>
                                    </div>
                                    <div class="col-lg-9">
                                        <select type="text" class="form-control editable" id="size" name="size" disabled>
                                            <option value="" hidden> -- Select Size -- </option>
                                            <option value="{{ lead.size }}" selected>{{ lead.size }}</option>
                                        </select>    
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-lg-3">
                                        <label class="mt-3" for="source">Source</label>
                                    </div>
                                    <div class="col-lg-9">
                                        <input type="text" class="form-control" id="source" name="source" value="{{ lead.source }}" readonly>    
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-lg-3">
                                        <label class="mt-3" for="type">Type</label>
                                    </div>
                                    <div class="col-lg-9">
                                        <select type="text" class="form-control editable" id="type" name="type" disabled>
                                            <option value="" hidden> -- Select Type -- </option>
                                            <option value="Yes" {% if lead.type == 'Inbound' %} selected {% endif %}>Inbound</option>
                                            <option value="No" {% if lead.type == 'Outbound' %} selected {% endif %}>Outbound</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-lg-3">
                                        <label class="mt-3" for="premium">Premium</label>
                                    </div>
                                    <div class="col-lg-9">
                                        <select type="text" class="form-control editable" id="premium" name="premium" disabled>
                                            <option value="" hidden> -- Select Option -- </option>
                                            <option value="Yes" {% if lead.is_premium == 'Yes' %} selected {% endif %}>Yes</option>
                                            <option value="No" {% if lead.is_premium == 'No' %} selected {% endif %}>No</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-lg-3">
                                        <label class="mt-3" for="status">Status</label>
                                    </div>
                                    <div class="col-lg-9">
                                        <select type="text" class="form-control editable" id="status" name="status" disabled>
                                            <option value="" hidden> -- Select Option -- </option>
                                            <option value="No" {% if lead.status == 'New' %} selected {% endif %}>New</option>
                                            <option value="Yes" {% if lead.status == 'Quoted' %} selected {% endif %}>Quoted</option>
                                            <option value="No" {% if lead.status == 'Converted' %} selected {% endif %}>Converted</option>
                                            <option value="No" {% if lead.status == 'Lost' %} selected {% endif %}>Lost</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <div class="col-lg-3">
                                        <label class="mt-3" for="recieve">Recieved On</label>
                                    </div>
                                    <div class="col-lg-9">
                                        <input type="text" class="form-control" id="recieve" name="recieve" value="{{ lead.created_at }}" readonly>    
                                    </div>
                                </div>
                                <div class="action d-none">
                                    <div class="row mb-2">
                                        <div class="col-lg-2">
                                            <button type="submit" class="btn btn-primary w-100">
                                                <i class="feather-save me-2"></i>
                                                <span>Save Changes</span>
                                            </button>
                                        </div>
                                        <div class="col-lg-2">
                                            <button type="submit" class="btn btn-danger cancel w-100">
                                                <i class="feather-close me-2"></i>
                                                <span>Cancel</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
    {% endblock content %}